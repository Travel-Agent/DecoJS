<!doctype html>


<div data-viewmodel="Main">
	<label>Name:<br>
	<input data-bind="value:name"></label>
	<button data-bind="command: setName">Set Name</button>
	<button data-bind="query: getName">Get Name</button>
</div>


<script src="../Source/Libs/require-2.1.1.js"></script>
<script>
	require.config({
		baseUrl: "../Source",
		paths: {
			"knockout": "Libs/knockout-2.1.0"
		}
	});
	
	define("Main", ["qvc", "knockout"], function(qvc, ko){
		function ViewModel(){
			var self = this;
			
			this.name = ko.observable("Marius");
			
			this.setName = qvc.createCommand({
				name: "SetValue",
				parameters: {
					key: "name",
					value: self.name
				}
			});
			
			this.getName = qvc.createQuery({
				name: "GetValue",
				result: self.name,
				parameters: {
					key: "name"
				}
			});
		}
		
		return ViewModel;
	});
	
	require(["qvc", "loader"], function(qvc, load){
		qvc.config({
			baseUrl: "/"
		});
		
		load();
	});
</script>